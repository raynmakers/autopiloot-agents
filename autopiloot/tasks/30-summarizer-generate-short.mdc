---
description: "Implement GenerateShortSummary using gpt-4.1 with Langfuse"
globs: []
alwaysApply: false
---

id: "TASK-SUM-0030"
title: "Build GenerateShortSummary tool (gpt-4.1, temp 0.2)"
status: "planned"
priority: "P1"
labels: ["summarizer", "llm"]
dependencies: ["TASK-TRN-0022"]
created: "2025-09-11"

# 1) High-Level Objective

Produce concise, actionable bullet summaries linked to transcripts.

# 2) Background / Context

PRD Agent C tools; LLM settings.

# 3) Assumptions & Constraints

- Model: gpt-4.1, temp 0.2, ~1500 tokens; prompt_version v1.

# 4) Dependencies

- files: agents/autopiloot/prd.mdc

# 5) Context Plan

Beginning:

- agents/autopiloot/prd.mdc _(read-only)_

End state:

- agents/autopiloot/summarizer/tools/GenerateShortSummary.py

# 6) Low-Level Steps

1. Input: `transcript_doc_ref`, `title`.
2. Chunk transcript if needed; prompt gpt-4.1; collect bullets and key concepts.
3. Record prompt_version and tokens_used in output.

# 7) Acceptance Criteria

- Returns JSON `{ bullets: [...], key_concepts: [...] }`.

# 10) Types & Interfaces

```python
from typing import TypedDict, List

class GenerateShortSummaryRequest(TypedDict):
    transcript_doc_ref: str
    title: str

class GenerateShortSummaryResponse(TypedDict):
    bullets: List[str]
    key_concepts: List[str]
    tokens_used: int
    prompt_version: str
```
